# 更新日志

- ## 2021-12-31（最新）

> 1. 官网上线
> 2. 新增添加 Own 扩展仓库功能 task repo <url> <branch> <path>
> 3. 新增添加 Raw 扩展脚本功能 task raw <url>
> 4. 控制面板已换装了全新的简约背景
> 5. 控制面板代码编辑器行高调整到了150%，不再显得紧凑
> 6. 控制面板日志页新增刷新按钮，方便查看正在运行中的脚本
> 7. 项目主命令新增静默执行 --mute 可选命令参数，用于控制在执行脚本后不推送消息通知
> 8. 查看本地脚本清单新增扩展用法 task list <path>，用户列出指定目录下的脚本
> 9. 适配检查指定账号是否有效 task cookie check <num>，已为整个账号操作命令应用了指定账号的扩展用法
> 10. 为扩展脚本（OwnRawFile）适配地址自动纠正功能，目前地址纠正功能已应用到了整个项目
> 11. 调整电报机器人服务，每次启动/重启都会推送上线提醒
> 12. 开放修改推送通知尾内容，详见配置文件中的变量
> 13. 配置文件重新排版，修改了部分注释内容和区域划分
> 14. 项目内各功能的下载脚本超时时间改为20秒，原10秒
> 15. 修复了一些bug

- ## 2021-12-20

> 1. 控制面板UI细节调整
> 2. 全部执行脚本范围新增匹配scripts目录下的第三方脚本
> 3. 修复了一些bug

- ## 2021-12-16

> 1. 项目主命令新增可选参数 --background 用于后台运行脚本
> 2. 控制面板配置文件页新增代码检测机制，如果有语法错误会提示保存失败
> 3. 优化了项目命令的输出内容
> 4. 降低了检测ck是否有效相关命令的频率，减少出现API请求失败的情况
> 5. 配置文件更新
> 6. 修复了一些bug

- ## 2021-11-24

> 1. 底层代码重构并整合了一些用于执行脚本相关的命令，详细使用方法详见使用说明文档
> 2. 执行脚本指定账号参数（原指定执行）新增支持指定多个账号，同时新增支持账号区间
> 3. 控制面板代码编辑器UI调整，去除行号边栏背景，同时增大行号边栏与内容之间的间距，新增光标所在行行号高亮
> 4. 控制面板新增代码编辑器右侧小地图预览
> 5. 控制面板新增全新UI设计的 搜索/替换 框，可通过 Ctrl+F 键调出
> 6. 控制面板文件树调整UI，现在展开箭头位于文件名或目录名的左侧
> 7. 控制面板为一些页面添加了代码颜色匹配
> 8. 控制面板对比工具页优化排版，适配浅色主题
> 9. 控制面板调整了网页共享终端的UI
> 10. 控制面板使用说明页重新排版，新增快速访问目录
> 11. 控制面板更新CK接口Token cookieApiToken 现更名为 openApiToken ，修改密码之后会重置该值
> 12. 控制面板接口命名规则整理，新增OpenAPI开放CK和WSKEY更新接口，分别是 /openApi/updateCookie 和  /openApi/addOrUpdateAccount ，可做相关自定义对接
> 13. 优化容器定时，减少出现Crond进程被杀的情况
> 14. 查看进程命令 (task ps) 新增统计显示配置文件、日志、所有脚本仓库的占用空间
> 15. 执行位于远程仓库的脚本（原远程执行）新增地址纠正功能，自动转换为raw原始文件链接
> 16. 优化终止执行命令，新增交互确认
> 17. 新增 ENABLE_SCRIPTS_PROXY 部署容器全局环境变量，用于控制Scripts主库是否使用代理
> 18. 推送通知备注remarks功能新增支持数组，优化了推送脚本
> 19. 配置文件新增部分变量，修改了部分注释内容
> 20. 修复了一些bug

- ## 2021-10-30

> 1. 升级了 WSKEY 转换脚本，采用最新京东APP版本(10.2.2)算法，支持自定义设备信息
> 2. 控制面板新增 UrlEncode编码/UrlDecode解码 工具，位于账号配置页上方Button
> 3. 单独更新新增子命令 update <path> ，更新指定路径下的仓库
> 4. 后台挂机功能去除挂机活动脚本(热气球)
> 5. 一些优化

- ## 2021-10-16

> 1. 新增清理进程功能 task cleanup ，检测并终止卡死的脚本进程以此释放内存占用，默认杀死距离启动超过6个小时的卡死进程，可通过可选参数 <hours> 指定此时间
> 2. 单独更新 update <cmd> 新增子命令，更新所有仓库 repo、更新 "Raw" 脚本 raw
> 3. 区分了 own 脚本两种拉取方式的定时控制变量，已在配置文件新增相关变量
> 4. 导出互助码脚本新增导出用于提交到 bot 的互助码格式，可自行定义导出的账号排序，已在配置文件新增相关变量
> 5. 项目主命令新增适配执行 Shell 类型的脚本
> 6. 优化更新账号命令，新增更新异常提示，调整更新后检测ck机制仅检测更新成功后的ck
> 7. 优化管理全局环境变量的修改子命令，现在支持修改包含各种符号的变量值
> 8. 优化终止执行命令，现在只终止对应进程不再终止其它包含对应关键字符串的脚本进程
> 9. 删除日志功能 task rmlog 新增参数 <days> 可以直接指定删除天数
> 10. 导出互助码脚本新增导出京喜财富岛互助码变量
> 11. 控制面板查阅脚本页新增在线编辑功能，可以通过面板直接编辑脚本
> 12. 控制面板修复浅色主题下js文件显示不清楚的bug
> 13. 控制面板新增支持使用同一个浏览器同时登录多个容器
> 14. 更新使用教程
> 15. 修复了一些bug
